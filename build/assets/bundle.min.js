!function a(c,o,i){function l(t,e){if(!o[t]){if(!c[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(u)return u(t,!0);var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}var n=o[t]={exports:{}};c[t][0].call(n.exports,function(e){return l(c[t][1][e]||e)},n,n.exports,a,c,o,i)}return o[t].exports}for(var u="function"==typeof require&&require,e=0;e<i.length;e++)l(i[e]);return l}({1:[function(e,t,r){"use strict";function h(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var a=document.querySelector(".layout"),c=document.querySelector(".flashcards__container"),s=document.querySelectorAll(".js-restart");document.querySelector(".js-start").addEventListener("click",function(){a.classList.add("layout--cards"),c.classList.remove("flashcards__container--intro"),c.classList.add("flashcards__container--cards"),function(){var t=document.querySelector(".cards"),u=t.querySelector(".card"),e=u.querySelectorAll(".js-card-answer"),d=[],f=void 0,s=0;function n(){var e,t,r;0===d.length?(e=c.querySelector(".js-results"),t=e.querySelector(".js-questions-count"),r=e.querySelector(".js-results-mistakes"),t.textContent=f,r.textContent=s+" "+(1!=s?"mistakes":"mistake"),a.classList.add("layout--results"),c.classList.remove("flashcards__container--cards"),c.classList.add("flashcards__container--results")):function(e){var t=u.querySelector(".js-card-question"),r=u.querySelectorAll(".js-card-answer"),s=u.querySelector(".js-card-progressbar"),n=s.querySelector(".js-card-progress-value");t.textContent=e.question;var a=[].concat(h(e.answers)),c=Math.floor(Math.random()*Math.floor(2)),o=0===c?1:0;r[0].textContent=a[c].answer,r[1].textContent=a[o].answer;var i=d.length,l=i/f*100;n.textContent=i,s.style.width=l+"%"}(d[0])}fetch("https://gist.githubusercontent.com/vergilius/6d869a7448e405cb52d782120b77b82c/raw/2ab0379eb07b2a7cd26c845b26ff5ed2a85b5064/history-flashcards.json").then(function(e){return e.json()}).then(function(e){return d.push.apply(d,h(e))}).then(function(e){f=d.length,n()}).catch(function(e){console.log(e),t.innerHTML='\n        <div class="sg-flash">\n          <div class="sg-flash__message sg-flash__message--error">\n            <div class="sg-text sg-text--small sg-text--light sg-text--emphasised">\n              Oops. Something\'s not right. Did you just broke it again?\n            </div>\n          </div>\n        </div>\n      '}),e.forEach(function(e){return e.addEventListener("click",function(e){!function(e){var t=d.shift(),r=t.answers.find(function(e){return e.correct}).answer;if(e===r)return u.classList.add("card--correct"),u.addEventListener("animationend",function(e){u.classList.remove("card--correct"),n()},{once:!0});s++,d.push(t),u.classList.add("card--incorrect"),u.addEventListener("animationend",function(e){u.classList.remove("card--incorrect"),n()},{once:!0})}(e.target.textContent)})},{once:!0})}()}),s.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),a.classList.remove("layout--cards"),a.classList.remove("layout--results"),c.classList.remove("flashcards__container--cards"),c.classList.remove("flashcards__container--results"),c.classList.add("flashcards__container--intro")})})},{}]},{},[1]);
//# sourceMappingURL=bundle.min.js.map
